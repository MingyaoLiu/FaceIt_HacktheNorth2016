angular.module("CipherX.controllers",[]).controller("AppCtrl",["$localstorage","$scope","$state","$rootScope","$timeout","$location","$mdDialog","$mdSidenav","$window",function(e,a,t,n,p,i,r,s,o){o.navigator&&o.navigator.splashscreen&&(o.navigator.splashscreen.hide(),console.log(o.navigator)),n.dynamicTheme="pink",n.appDataFields={CodeBlock:"",ReferenceBlock:"",historyList:[]},n.langOptions=["en","cn"],n.themeOptions=["red","indigo","pink","purple"],n.openMenu=function(e,a){originatorEv=a,e(a)},a.selectTheme=function(e){n.dynamicTheme=n.themeOptions[e]},a.selectLanguage=function(a){n.appLang=translation[a],e.set("languageSelection",a)},n.onCBChange=function(){n.exeCipher()},n.exeCipher=function(){},n.goToPage=function(e){t.transitionTo("app."+e),s("left").close().then(function(){})},n.copyRBtoCB=function(){n.appDataFields.CodeBlock=n.appDataFields.ReferenceBlock},n.copyHistoryToCB=function(e){n.appDataFields.CodeBlock=n.appDataFields.historyList[e].CDATA},n.saveHistory=function(){var a={time:(new Date).toLocaleString(),CDATA:n.appDataFields.ReferenceBlock},t=e.getObject("historyList");t.length?(10==t.length&&t.splice(0,1),t.push(a)):t=[a],e.setObject("historyList",t),n.appDataFields.historyList=t.reverse()},n.deleteHistory=function(a){var t=e.getObject("historyList");t.splice(t.length-1-a,1),console.log(t),e.setObject("historyList",t),n.appDataFields.historyList=e.getObject("historyList").reverse()};var m=e.getObject("historyList");m.length||(m=[{time:(new Date).toLocaleString(),CDATA:a.$parent.appLang.noResult}]),n.appDataFields.historyList=m.reverse(),n.closeModal=function(){r.cancel()},n.simTraData=n.appLang.menuCipherItems[0].subMenuCipherItems[0].param,n.pinyinData=n.appLang.menuCipherItems[0].subMenuCipherItems[1].param,n.sijiaoData=n.appLang.menuCipherItems[0].subMenuCipherItems[2].param,n.wubiData=n.appLang.menuCipherItems[0].subMenuCipherItems[3].param,n.zhuyinData=n.appLang.menuCipherItems[0].subMenuCipherItems[4].param,n.simAlphaData=n.appLang.menuCipherItems[1].subMenuCipherItems[0].param,n.caesarData=n.appLang.menuCipherItems[1].subMenuCipherItems[1].param,n.rot13Data=n.appLang.menuCipherItems[1].subMenuCipherItems[2].param,n.railFenceData=n.appLang.menuCipherItems[1].subMenuCipherItems[3].param,n.atbashData=n.appLang.menuCipherItems[1].subMenuCipherItems[4].param,n.baconData=n.appLang.menuCipherItems[1].subMenuCipherItems[5].param,n.morseData=n.appLang.menuCipherItems[1].subMenuCipherItems[7].param,n.vgnData=n.appLang.menuCipherItems[2].subMenuCipherItems[0].param,n.qwertSubData=n.appLang.menuCipherItems[3].subMenuCipherItems[0].param,n.qwertCoodData=n.appLang.menuCipherItems[3].subMenuCipherItems[1].param,n.numPadShapeData=n.appLang.menuCipherItems[3].subMenuCipherItems[2].param,n.numPadSubData=n.appLang.menuCipherItems[3].subMenuCipherItems[3].param,n.dvorakData=n.appLang.menuCipherItems[3].subMenuCipherItems[4].param,n.alpha="abcdefghijklmnopqrstuvwxyz",n.charOffset=function(e,a){return a<0&&(a+=26),e>64&&e<91?String.fromCharCode((e-65+a)%26+65):e>96&&e<123?String.fromCharCode((e-97+a)%26+97):String.fromCharCode(e)}}]).controller("WelcomeCtrl",["$rootScope","$scope","$location","$stateParams","$timeout",function(e,a,t,n,p){e.pageTitle=function(){return e.appLang.cmtitle},a.goToXIXSite=function(){cordova.InAppBrowser.open("http://www.x-i-x.com","_system")},a.goToPrivacyPolicy=function(){cordova.InAppBrowser.open("http://www.x-i-x.com/privacy_policy/index.html","_blank","location=yes")}}]);