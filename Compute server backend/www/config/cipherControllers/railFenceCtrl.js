angular.module("CipherX.controllers").controller("railFenceCtrl",["$scope","$rootScope","$stateParams","cfpLoadingBar",function(r,e,a,n){function t(e,a){r.exact="(Exact Division)";for(var n="",t=0;t<a;t++)for(var o=t;c=e.charAt(o);o+=parseInt(a))n+=c;return n}function o(a,n){r.exact="";var t="";if(e.railFenceData.railFence_order){for(var o=new Array(n),l=0;l<n;l++)o[l]=new Array;for(var c=0,i=1,p=0;p<a.length;p++)o[c].push(""),(c==n-1||0==c&&0!=p)&&(i=-parseInt(i)),c+=i;for(var f=0,l=0;l<n;l++)for(var u in o[l])o[l][u]=a.charAt(f),f++;console.log(o),c=0,i=1;for(var p=0;p<a.length;p++)console.log(c),t+=o[c].shift(),(c==n-1||0==c&&0!=p)&&(i=-parseInt(i)),c+=i}else{for(var o=new Array(n),l=0;l<n;l++)o[l]=new Array;for(var c=0,i=1,p=0;p<a.length;p++)o[c].push(a.charAt(p)),(c==n-1||0==c&&0!=p)&&(i=-parseInt(i)),c+=i;for(var p=0;p<n;p++)t+=o[p].join("")}return t}function l(r,e,a){return e?result=t(r,a):result=o(r,a),result}function i(r,e){for(var a="",n=2;n<r.length;n++)r.length%n!=0&&e||(a+="("+n+")"+l(r,e,n)+"\r\n");return a}e.pageTitle=function(){return e.appLang.railFence},r.offsetBlock=2,e.exeCipher=function(){r.lengthBlock=e.appDataFields.CodeBlock.replace(/\s/g,"").length;var a=e.appDataFields.CodeBlock,n=r.$parent.railFenceData.railFence_mode,t=r.offsetBlock;r.$parent.railFenceData.railFence_all?output=i(a,n):output=l(a,n,t),e.appDataFields.ReferenceBlock=output},e.exeCipher()}]);